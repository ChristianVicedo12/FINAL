            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .walk-request-card h4 {
            margin-top: 0;
            color: #333;
        }
        
        .walk-details {
            margin: 15px 0;
        }
        
        .walk-details p {
            margin: 8px 0;
            color: #555;
        }
        
        .btn-view-details {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .btn-view-details:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Dashboard</h1>
        <h2>Welcome, Iskolar!</h2>
        <p>Find a walking companion and help keep the community safe.</p>
        
        <div class="section">
            <h3>Available Walk Requests</h3>
            <div id="walk-requests-container">
                <p>Loading...</p>
            </div>
        </div>
    </div>

    <script>
        // Fetch walk requests from API
        fetch('http://localhost:5012/api/WalkRequest/active', {
            headers: {
                'Authorization': 'Bearer ' + localStorage.getItem('authToken')
            }
        })
        .then(response => response.json())
        .then(data => {
            console.log('Raw API Data:', data);
            
            const container = document.getElementById('walk-requests-container');
            
            if (data.length === 0) {
                container.innerHTML = '<p>No active walk requests</p>';
                return;
            }
            
            // Build HTML for each request
            let html = '';
            data.forEach(request => {
                // Combine date and time if available
                let pickupDisplay = 'No date set';
                if (request.date && request.time) {
                    const dateTime = new Date(`${request.date}T${request.time}`);
                    if (!isNaN(dateTime.getTime())) {
                        pickupDisplay = dateTime.toLocaleString('en-US', { 
                            month: '2-digit', 
                            day: '2-digit', 
                            year: 'numeric', 
                            hour: '2-digit', 
                            minute: '2-digit' 
                        });
                    }
                } else if (request.date) {
                    const dateOnly = new Date(request.date);
                    if (!isNaN(dateOnly.getTime())) {
                        pickupDisplay = dateOnly.toLocaleDateString('en-US');
                    }
                }
                
                html += `
                    <div class="walk-request-card">
                        <h4>Request #${request.id}</h4>
                        <div class="walk-details">
                            <p><strong>Name:</strong> ${request.name || 'N/A'}</p>
                            <p><strong>From:</strong> ${request.from || 'Not set'}</p>
                            <p><strong>To:</strong> ${request.to || 'Not set'}</p>
                            <p><strong>Pickup:</strong> ${pickupDisplay}</p>
                            <p><strong>Status:</strong> ${request.status || 'active'}</p>
                        </div>
                        <button class="btn-view-details" onclick="viewDetails(${request.id})">View Details</button>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        })
        .catch(error => {
            console.error('Error:', error);
            document.getElementById('walk-requests-container').innerHTML = 
                '<p>Error loading walk requests</p>';
        });
    </script>
</body>
</html>
